{"version":3,"file":"static/js/0.aa2df173.chunk.js","mappings":"iMAAO,MAAMA,EAAkBC,GAAUA,EAAMC,OAAOC,SACzCC,EAAmBH,GAAUA,EAAMC,OAAOG,UAC1CC,EAAqBL,GAAUA,EAAMC,OAAOK,YAC5CC,EAAmBP,GAAUA,EAAMC,OAAOO,U,aCevD,MAgIA,EAhIaC,KACX,MAAMC,GAAWC,EAAAA,EAAAA,MACXC,GAAYC,EAAAA,EAAAA,IAAYC,EAAAA,IACxBC,GAAQF,EAAAA,EAAAA,IAAYG,EAAAA,IACpBC,GAAOJ,EAAAA,EAAAA,IAAYK,EAAAA,IAEnBhB,GAAWW,EAAAA,EAAAA,IAAYd,GACvBK,GAAYS,EAAAA,EAAAA,IAAYV,GACxBG,GAAcO,EAAAA,EAAAA,IAAYR,GAC1BG,GAAYK,EAAAA,EAAAA,IAAYN,IAEvBY,EAAMC,IAAWC,EAAAA,EAAAA,UAAS,IAKjCC,EAAAA,EAAAA,YAAU,KACRZ,GAASa,EAAAA,EAAAA,IAAWJ,GAAM,GACzB,CAACT,EAAUS,IASd,MAAMK,EAAmB,OAAJP,QAAI,IAAJA,OAAI,EAAJA,EACjBhB,QAAQwB,GACS,OAAbvB,GAAmC,OAAdE,IAGR,OAAbF,EAEAwB,SAASD,EAAIE,YAAYC,QAAQ,IAAK,IAAK,KAAO,IAClDF,SAASD,EAAIE,YAAYC,QAAQ,IAAK,IAAK,KACzCF,SAAStB,EAAW,IAGR,OAAdA,EACKqB,EAAII,OAAS3B,EAGpBuB,EAAII,OAAS3B,GACbwB,SAASD,EAAIE,YAAYC,QAAQ,IAAK,IAAK,KAAO,IAClDF,SAASD,EAAIE,YAAYC,QAAQ,IAAK,IAAK,KACzCF,SAAStB,EAAW,OAGzBH,QAAQwB,GACa,OAAhBnB,GAAsC,OAAdE,IAGR,OAAhBF,GAAsC,OAAdE,EAExBiB,EAAIK,SAAWJ,SAASlB,EAAW,KACnCiB,EAAIK,SAAWJ,SAASpB,EAAa,IAIrB,OAAhBA,EACKmB,EAAIK,SAAWJ,SAASlB,EAAW,IAE1B,OAAdA,GACKiB,EAAIK,SAAWJ,SAASpB,EAAa,OAKlD,OACEyB,EAAAA,EAAAA,KAACC,EAAAA,EAAa,CAAAC,UACZC,EAAAA,EAAAA,MAACC,EAAAA,EAAc,CAAAF,SAAA,CACZlB,IAASgB,EAAAA,EAAAA,KAAA,KAAAE,SAAIlB,IACbH,IAAamB,EAAAA,EAAAA,KAACK,EAAAA,GAAM,KACrBL,EAAAA,EAAAA,KAAA,OAAAE,UACEF,EAAAA,EAAAA,KAACM,EAAAA,GAAM,OAGTN,EAAAA,EAAAA,KAAA,MAAIO,UAAU,YAAWL,SACV,OAAZT,QAAY,IAAZA,OAAY,EAAZA,EAAce,KACbC,IAWO,IAXN,GACCC,EAAE,KACFC,EAAI,KACJC,EAAI,KACJd,EAAI,MACJe,EAAK,IACLC,EAAG,YACHlB,EAAW,cACXmB,EAAa,QACbC,EAAO,QACPjB,GACDU,EACC,OACET,EAAAA,EAAAA,KAACiB,EAAAA,GAAQ,CAEPP,GAAIA,EACJC,KAAMA,EACNC,KAAMA,EACNd,KAAMA,EACNe,MAAOA,EACPC,IAAKA,EACLlB,YAAaA,EACbmB,cAAeA,EACfC,QAASA,EACTjB,QAASA,GAVJW,EAWL,MAKQ,QAAb,OAAJxB,QAAI,IAAJA,OAAI,EAAJA,EAAMgC,UACLlB,EAAAA,EAAAA,KAAA,UAAQmB,QAnGSC,KACvB/B,EAAQD,EAAO,EAAE,EAkGwBmB,UAAU,YAAWL,SAAC,kBAa/C,C,gDC5Ib,MAAME,E,OAAiBiB,GAAOC,IAAGC,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,+hB","sources":["redux/filterSlice.selectors.js","pages/Main/Main.jsx","pages/Main/Main.styled.js"],"sourcesContent":["export const selectCarBrand = (state) => state.filter.carBrand;\nexport const selectCarRental = (state) => state.filter.carRental;\nexport const selectMileageFrom = (state) => state.filter.mileageFrom;\nexport const selectMileageTo = (state) => state.filter.mileageTo;\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { apiGetCars } from \"../../redux/carsSlice\";\nimport {\n  selectCarError,\n  selectCarIsLoading,\n  selectCarItems,\n} from \"../../redux/carsSlice.selectors\";\nimport { CardCars, Filter, Loader } from \"components\";\nimport { StyledMainPage } from \"./Main.styled\";\nimport { MainContainer } from \"MainContainer.styled\";\nimport {\n  selectCarBrand,\n  selectCarRental,\n  selectMileageFrom,\n  selectMileageTo,\n} from \"../../redux/filterSlice.selectors\";\n\nconst Main = () => {\n  const dispatch = useDispatch();\n  const isLoading = useSelector(selectCarIsLoading);\n  const error = useSelector(selectCarError);\n  const cars = useSelector(selectCarItems);\n\n  const carBrand = useSelector(selectCarBrand);\n  const carRental = useSelector(selectCarRental);\n  const mileageFrom = useSelector(selectMileageFrom);\n  const mileageTo = useSelector(selectMileageTo);\n\n  const [page, setPage] = useState(1);\n  const heandlerLoadMore = () => {\n    setPage(page + 1);\n  };\n\n  useEffect(() => {\n    dispatch(apiGetCars(page));\n  }, [dispatch, page]);\n\n  // const filteredCars = cars?.filter(car => {\n  //   if (carBrand) {\n  //     return car.make === carBrand\n  //   }\n  //   return true\n  // })\n\n  const filteredCars = cars\n    ?.filter((car) => {\n      if (carBrand === null && carRental === null) {\n        return true;\n      }\n      if (carBrand === null) {\n        return (\n          parseInt(car.rentalPrice.replace(\"$\", \"\"), 10) >= 30 &&\n          parseInt(car.rentalPrice.replace(\"$\", \"\"), 10) <=\n            parseInt(carRental, 10)\n        );\n      }\n      if (carRental === null) {\n        return car.make === carBrand;\n      }\n      return (\n        car.make === carBrand &&\n        parseInt(car.rentalPrice.replace(\"$\", \"\"), 10) >= 30 &&\n        parseInt(car.rentalPrice.replace(\"$\", \"\"), 10) <=\n          parseInt(carRental, 10)\n      );\n    })\n    .filter((car) => {\n      if (mileageFrom === null && mileageTo === null) {\n        return true;\n      }\n      if (mileageFrom !== null && mileageTo !== null) {\n        return (\n          car.mileage <= parseInt(mileageTo, 10) &&\n          car.mileage >= parseInt(mileageFrom, 10)\n        );\n      }\n\n      if (mileageFrom === null) {\n        return car.mileage <= parseInt(mileageTo, 10);\n      }\n      if (mileageTo === null) {\n        return car.mileage >= parseInt(mileageFrom, 10);\n      }\n      return true;\n    });\n\n  return (\n    <MainContainer>\n      <StyledMainPage>\n        {error && <p>{error}</p>}\n        {isLoading && <Loader />}\n        <div>\n          <Filter />\n        </div>\n\n        <ul className=\"cars-list\">\n          {filteredCars?.map(\n            ({\n              id,\n              type,\n              year,\n              make,\n              model,\n              img,\n              rentalPrice,\n              rentalCompany,\n              address,\n              mileage,\n            }) => {\n              return (\n                <CardCars\n                  key={id}\n                  id={id}\n                  type={type}\n                  year={year}\n                  make={make}\n                  model={model}\n                  img={img}\n                  rentalPrice={rentalPrice}\n                  rentalCompany={rentalCompany}\n                  address={address}\n                  mileage={mileage}\n                />\n              );\n            }\n          )}\n        </ul>\n        {cars?.length !== null && (\n          <button onClick={heandlerLoadMore} className=\"load-more\">\n            Load more\n          </button>\n        )}\n\n        {/* {isLoading ? (\n          <Loader />\n        ) : (\n          <button onClick={heandlerLoadMore} className=\"load-more\">\n            Load more\n          </button>\n        )} */}\n      </StyledMainPage>\n    </MainContainer>\n  );\n};\n\nexport default Main;\n","import styled from \"styled-components\";\n\nexport const StyledMainPage = styled.div`\n  .cars-list {\n    margin-top: 50px;\n    display: grid;\n    grid-template-columns: repeat(4, 1fr);\n    grid-template-rows: repeat(3, 1fr);\n    grid-column-gap: 29px;\n    grid-row-gap: 50px;\n  }\n\n  .load-more {\n    font-weight: 500;\n    font-size: 16px;\n    line-height: 1.5;\n    text-decoration: underline;\n    text-decoration-skip-ink: none;\n    color: #3470ff;\n    background-color: transparent;\n    border: none;\n    margin: 0 auto;\n    display: block;\n\n    margin-top: 100px;\n    margin-bottom: 100px;\n  }\n`;\n"],"names":["selectCarBrand","state","filter","carBrand","selectCarRental","carRental","selectMileageFrom","mileageFrom","selectMileageTo","mileageTo","Main","dispatch","useDispatch","isLoading","useSelector","selectCarIsLoading","error","selectCarError","cars","selectCarItems","page","setPage","useState","useEffect","apiGetCars","filteredCars","car","parseInt","rentalPrice","replace","make","mileage","_jsx","MainContainer","children","_jsxs","StyledMainPage","Loader","Filter","className","map","_ref","id","type","year","model","img","rentalCompany","address","CardCars","length","onClick","heandlerLoadMore","styled","div","_templateObject","_taggedTemplateLiteral"],"sourceRoot":""}