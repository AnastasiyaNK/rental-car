{"version":3,"file":"static/js/0.7e99e854.chunk.js","mappings":"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","sources":["redux/filterSlice.selectors.js","pages/Main/Main.jsx","pages/Main/Main.styled.js"],"sourcesContent":["export const selectCarBrand = (state) => state.filter.carBrand;\nexport const selectCarRental = (state) => state.filter.carRental;\nexport const selectMileageFrom = (state) => state.filter.mileageFrom;\nexport const selectMileageTo = (state) => state.filter.mileageTo;\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { apiGetCars } from \"../../redux/carsSlice\";\nimport { animateScroll as scroll } from \"react-scroll\";\nimport {\n  selectCarError,\n  selectCarIsLoading,\n  selectCarItems,\n} from \"../../redux/carsSlice.selectors\";\nimport { CardCars, Filter, Loader } from \"components\";\nimport { StyledMainPage } from \"./Main.styled\";\nimport { MainContainer } from \"MainContainer.styled\";\nimport {\n  selectCarBrand,\n  selectCarRental,\n  selectMileageFrom,\n  selectMileageTo,\n} from \"../../redux/filterSlice.selectors\";\nimport ScrollToTop from \"components/ScrollToTop/ScrollToTop\";\n\nconst Main = () => {\n  const dispatch = useDispatch();\n  const isLoading = useSelector(selectCarIsLoading);\n  const error = useSelector(selectCarError);\n  const cars = useSelector(selectCarItems);\n\n  const carBrand = useSelector(selectCarBrand);\n  const carRental = useSelector(selectCarRental);\n  const mileageFrom = useSelector(selectMileageFrom);\n  const mileageTo = useSelector(selectMileageTo);\n\n  const [page, setPage] = useState(1);\n  const [showLoadMore, setShowLoadMore] = useState(true);\n\n  const [showButton, setShowButton] = useState(false);\n\n  useEffect(() => {\n    const handlerScroll = () => {\n      window.scrollY > 300 ? setShowButton(true) : setShowButton(false);\n    };\n    window.addEventListener(\"scroll\", handlerScroll);\n    return () => {\n      window.removeEventListener(\"scroll\", handlerScroll);\n    };\n  }, []);\n\n  const onScrollToTop = () => {\n    scroll.scrollToTop();\n  };\n\n  const heandlerLoadMore = () => {\n    setPage(page + 1);\n  };\n\n  useEffect(() => {\n    dispatch(apiGetCars(page))\n      .unwrap()\n      .then((data) => {\n        if (data.response.length < 12) {\n          setShowLoadMore(false);\n        }\n      });\n  }, [dispatch, page]);\n\n  const filteredCars = cars\n    ?.filter((car) => {\n      if (carBrand === null && carRental === null) {\n        return true;\n      }\n      if (carBrand === null) {\n        return (\n          parseInt(car.rentalPrice.replace(\"$\", \"\"), 10) >= 30 &&\n          parseInt(car.rentalPrice.replace(\"$\", \"\"), 10) <=\n            parseInt(carRental, 10)\n        );\n      }\n      if (carRental === null) {\n        return car.make === carBrand;\n      }\n      return (\n        car.make === carBrand &&\n        parseInt(car.rentalPrice.replace(\"$\", \"\"), 10) >= 30 &&\n        parseInt(car.rentalPrice.replace(\"$\", \"\"), 10) <=\n          parseInt(carRental, 10)\n      );\n    })\n    .filter((car) => {\n      if (mileageFrom === \"\" && mileageTo === \"\") {\n        return true;\n      }\n      if (mileageFrom !== \"\" && mileageTo !== \"\") {\n        return (\n          car.mileage <= parseInt(mileageTo, 10) &&\n          car.mileage >= parseInt(mileageFrom, 10)\n        );\n      }\n\n      if (mileageFrom === \"\") {\n        return car.mileage <= parseInt(mileageTo, 10);\n      }\n      if (mileageTo === \"\") {\n        return car.mileage >= parseInt(mileageFrom, 10);\n      }\n      return true;\n    });\n\n  return (\n    <MainContainer>\n      <StyledMainPage>\n        {error && <p>{error}</p>}\n        {isLoading && <Loader />}\n\n        <Filter />\n        {!filteredCars?.length && (\n          <div>\n            <p className=\"notification\">\n              No cars were found for your request, please try to choose other\n              parameters.\n            </p>\n          </div>\n        )}\n\n        <ul className=\"cars-list\">\n          {filteredCars?.map(\n            ({\n              id,\n              type,\n              year,\n              make,\n              model,\n              img,\n              rentalPrice,\n              rentalCompany,\n              address,\n              mileage,\n            }) => {\n              return (\n                <CardCars\n                  key={id}\n                  id={id}\n                  type={type}\n                  year={year}\n                  make={make}\n                  model={model}\n                  img={img}\n                  rentalPrice={rentalPrice}\n                  rentalCompany={rentalCompany}\n                  address={address}\n                  mileage={mileage}\n                />\n              );\n            }\n          )}\n        </ul>\n        {filteredCars?.length !== 0 && showLoadMore && (\n          <button onClick={heandlerLoadMore} className=\"load-more\">\n            Load more\n          </button>\n        )}\n      </StyledMainPage>\n      <ScrollToTop visibleButton={showButton} onScroll={onScrollToTop} />\n    </MainContainer>\n  );\n};\n\nexport default Main;\n","import styled from \"styled-components\";\n\nexport const StyledMainPage = styled.div`\n  .cars-list {\n    margin-top: 50px;\n    display: grid;\n    grid-template-columns: repeat(4, 1fr);\n    grid-template-rows: repeat(3, 1fr);\n    grid-column-gap: 29px;\n    grid-row-gap: 50px;\n  }\n\n  .load-more {\n    font-weight: 500;\n    font-size: 16px;\n    line-height: 1.5;\n    text-decoration: underline;\n    text-decoration-skip-ink: none;\n    color: #3470ff;\n    background-color: transparent;\n    border: none;\n    margin: 0 auto;\n    display: block;\n\n    margin-top: 100px;\n    margin-bottom: 100px;\n  }\n  .notification {\n    font-weight: 500;\n    font-size: 22px;\n    line-height: 1.11;\n    color: #2e3f68;\n    text-align: center;\n\n    transition: all 0.3s;\n    text-decoration: none;\n    margin-top: 20px;\n\n    &.favorite {\n      margin-top: 40px;\n    }\n  }\n  @media screen and (max-width: 768px) {\n    .cars-list {\n      grid-template-columns: repeat(3, 1fr);\n      grid-template-rows: repeat(2, 1fr);\n    }\n  }\n  @media screen and (max-width: 425px) {\n    .cars-list {\n      grid-template-columns: 1fr;\n      grid-template-rows: repeat(4, 1fr);\n    }\n  }\n`;\n"],"names":["selectCarBrand","state","filter","carBrand","selectCarRental","carRental","selectMileageFrom","mileageFrom","selectMileageTo","mileageTo","Main","dispatch","useDispatch","isLoading","useSelector","selectCarIsLoading","error","selectCarError","cars","selectCarItems","page","setPage","useState","showLoadMore","setShowLoadMore","showButton","setShowButton","useEffect","handlerScroll","window","scrollY","addEventListener","removeEventListener","apiGetCars","unwrap","then","data","response","length","filteredCars","car","parseInt","rentalPrice","replace","make","mileage","_jsxs","MainContainer","children","StyledMainPage","_jsx","Loader","Filter","className","map","_ref","id","type","year","model","img","rentalCompany","address","CardCars","onClick","heandlerLoadMore","ScrollToTop","visibleButton","onScroll","onScrollToTop","scroll","scrollToTop","styled","div","_templateObject","_taggedTemplateLiteral"],"sourceRoot":""}